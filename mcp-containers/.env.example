# MCP Containers Environment Configuration
# Copy this file to .env and fill in your values

# ========================================
# GitHub Configuration (Required for Agent 16)
# ========================================

# GitHub Personal Access Token
# Required for Agent 16 (Coding Agent) to interact with GitHub API
# Generate at: https://github.com/settings/tokens
# Required scopes: repo, workflow, read:org
GITHUB_TOKEN=

# ========================================
# Slack Integration (Optional)
# ========================================

# Slack Webhook URL for notifications
# Required for Agent 04 (Integration Specialist)
# Create at: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=

# ========================================
# Database Configuration
# ========================================

# PostgreSQL connection (for production)
DATABASE_URL=postgresql://user:password@localhost:5432/workstation

# SQLite database (for development)
SQLITE_DB_PATH=./workstation.db

# ========================================
# MCP Server Configuration
# ========================================

# Node environment
NODE_ENV=production

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# MCP Server port (internal - Docker Compose handles external mapping)
MCP_PORT=3000

# ========================================
# Security Configuration
# ========================================

# JWT Secret for authentication
JWT_SECRET=your-secret-key-here-change-in-production

# JWT expiration time (e.g., 1h, 24h, 7d)
JWT_EXPIRATION=24h

# Rate limiting (requests per minute)
RATE_LIMIT=100

# ========================================
# Browser Automation Configuration
# ========================================

# Playwright browser type (chromium, firefox, webkit)
BROWSER_TYPE=chromium

# Headless mode (true/false)
HEADLESS=true

# Browser timeout (milliseconds)
BROWSER_TIMEOUT=30000

# ========================================
# Monitoring and Observability
# ========================================

# Enable metrics collection
ENABLE_METRICS=true

# Metrics port
METRICS_PORT=9090

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=30

# ========================================
# External Services (Optional)
# ========================================

# Sentry DSN for error tracking
SENTRY_DSN=

# DataDog API key for monitoring
DATADOG_API_KEY=

# New Relic license key
NEW_RELIC_LICENSE_KEY=

# ========================================
# Development Configuration
# ========================================

# Enable debug mode
DEBUG=false

# Enable hot reload
HOT_RELOAD=false

# Test mode
TEST_MODE=false

# ========================================
# Deployment Configuration
# ========================================

# Deployment environment (development, staging, production)
DEPLOY_ENV=production

# Container restart policy (no, always, on-failure, unless-stopped)
RESTART_POLICY=unless-stopped

# Maximum container memory (e.g., 512m, 1g, 2g)
MAX_MEMORY=1g

# CPU limit (e.g., 0.5, 1.0, 2.0)
CPU_LIMIT=1.0
# MCP Container Configuration
# This file contains environment variables for MCP container orchestration
# Copy this file to .env and update with your values

# =============================================================================
# MCP Manager Configuration
# =============================================================================

# Agent responsible for managing MCP containers
# Agent-16 (Data Processing MCP) is designated as the container manager
MCP_MANAGER_AGENT=agent-16

# Total number of MCP containers in the ecosystem
MCP_CONTAINER_COUNT=20

# =============================================================================
# Port Configuration
# =============================================================================

# Base port offset for MCP containers
# Container ports are calculated as: MCP_PORT_OFFSET + container_number
# Example: MCP-01 = 3000 + 1 = 3001, MCP-16 = 3000 + 16 = 3016
MCP_PORT_OFFSET=3000

# Nginx proxy port (external access)
NGINX_PORT=80
NGINX_SSL_PORT=443

# =============================================================================
# Container Naming
# =============================================================================

# Prefix for container names
# Full container name format: {MCP_CONTAINER_PREFIX}-{number}-{name}
# Example: mcp-16-data, mcp-01-selector
MCP_CONTAINER_PREFIX=mcp

# =============================================================================
# Network Configuration
# =============================================================================

# Docker network name for MCP containers
MCP_NETWORK=workstation-mcp-network

# Network driver (bridge, overlay, etc.)
NETWORK_DRIVER=bridge

# =============================================================================
# Node.js / Application Configuration
# =============================================================================

# Node environment (development, production, test)
NODE_ENV=production

# Port each container listens on internally
# All containers expose port 3000 internally, mapped to external ports
CONTAINER_INTERNAL_PORT=3000

# =============================================================================
# Health Check Configuration
# =============================================================================

# Health check interval (how often to check)
HEALTH_CHECK_INTERVAL=30s

# Health check timeout (how long to wait for response)
HEALTH_CHECK_TIMEOUT=10s

# Health check retries (how many times to retry before marking unhealthy)
HEALTH_CHECK_RETRIES=3

# Health check start period (grace period on startup)
HEALTH_CHECK_START_PERIOD=40s

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level (error, warn, info, debug, trace)
LOG_LEVEL=info

# Log directory (relative to container)
LOG_DIR=/app/logs

# Enable JSON log format (true/false)
LOG_JSON=false

# =============================================================================
# Peelback Configuration
# =============================================================================

# Docker registry for pulling images
DOCKER_REGISTRY=ghcr.io/creditxcredit/workstation

# Enable automatic peelback on health check failure (true/false)
AUTO_PEELBACK_ON_FAILURE=false

# Default image tag to peelback to if not specified
DEFAULT_PEELBACK_TAG=stable

# Peelback log directory
PEELBACK_LOG_DIR=/var/log/peelback

# =============================================================================
# GitHub Integration (Coding Agent)
# =============================================================================

# GitHub personal access token for push/sync operations
# ⚠️ SECURITY: Never commit this token to version control!
# Generate at: https://github.com/settings/tokens
# Required scopes: repo, workflow
GITHUB_TOKEN=

# GitHub repository owner
GITHUB_OWNER=creditXcredit

# GitHub repository name
GITHUB_REPO=workstation

# Default branch for operations
GITHUB_DEFAULT_BRANCH=main

# =============================================================================
# Security Configuration
# =============================================================================

# JWT secret for authentication (required)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# ⚠️ SECURITY: Never commit this secret to version control!
JWT_SECRET=

# JWT token expiration time
JWT_EXPIRATION=24h

# CORS allowed origins (comma-separated)
# Example: http://localhost:3000,https://example.com
ALLOWED_ORIGINS=*

# =============================================================================
# Database Configuration (if applicable)
# =============================================================================

# Database type (sqlite, postgres, mysql)
DB_TYPE=sqlite

# Database path (for SQLite)
DB_PATH=/app/data/mcp.db

# Database host (for PostgreSQL/MySQL)
DB_HOST=localhost

# Database port (for PostgreSQL/MySQL)
DB_PORT=5432

# Database name (for PostgreSQL/MySQL)
DB_NAME=workstation_mcp

# Database user (for PostgreSQL/MySQL)
DB_USER=

# Database password (for PostgreSQL/MySQL)
# ⚠️ SECURITY: Never commit this password to version control!
DB_PASSWORD=

# =============================================================================
# Volume Mounts
# =============================================================================

# Enable persistent volumes (true/false)
ENABLE_VOLUMES=true

# Volume names
VOLUME_DATA=workstation-mcp-data
VOLUME_LOGS=workstation-mcp-logs
VOLUME_CACHE=workstation-mcp-cache

# =============================================================================
# Resource Limits (Optional)
# =============================================================================

# Memory limit per container (e.g., 512m, 1g, 2g)
# Leave empty for no limit
CONTAINER_MEMORY_LIMIT=

# CPU limit per container (e.g., 0.5, 1, 2)
# Leave empty for no limit
CONTAINER_CPU_LIMIT=

# =============================================================================
# Restart Policy
# =============================================================================

# Container restart policy
# Options: no, always, on-failure, unless-stopped
RESTART_POLICY=unless-stopped

# =============================================================================
# Development / Debug Configuration
# =============================================================================

# Enable debug mode (true/false)
DEBUG=false

# Enable verbose logging (true/false)
VERBOSE=false

# Enable hot reload for development (true/false)
HOT_RELOAD=false

# =============================================================================
# Additional Configuration
# =============================================================================

# Timezone for containers
TZ=UTC

# Container user (non-root)
CONTAINER_USER=node

# Container group (non-root)
CONTAINER_GROUP=node

# =============================================================================
# Example Values (Uncomment and update as needed)
# =============================================================================

# For local development:
# NODE_ENV=development
# LOG_LEVEL=debug
# DEBUG=true
# HOT_RELOAD=true

# For production:
# NODE_ENV=production
# LOG_LEVEL=info
# DEBUG=false
# AUTO_PEELBACK_ON_FAILURE=true
# CONTAINER_MEMORY_LIMIT=1g
# CONTAINER_CPU_LIMIT=1
