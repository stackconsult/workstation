# üü£ Unified Task List: Click-Deploy + Auto-Updater Rollout

This issue tracks the implementation of a complete click-deploy system with automated documentation updates for the workstation repository.

## üìã Implementation Tasks

Each task below is live-linked and includes execution details with affected files and atomic change descriptions.

---

### **Task 1: Confirm/Align Build Output Paths and Static Serving**

**Goal:**  
Verify the chrome extension and workflow builder build artifacts are available at repeatable binary paths for backend delivery. Create (or validate) a `/dist` or `/downloads` directory for easy static serving.

**Status:** üî≤ Not Started

**Implementation Details:**
- **Discovery:** Verify build output paths
  - Chrome extension: Check if `build/chrome-extension/` or `chrome-extension/dist/` exists
  - Workflow builder: Currently served from `public/workflow-builder.html` (no separate build)
- **Action:** Create `/public/downloads/` directory structure
- **Files to Create:**
  - `public/downloads/` (directory)
  - `public/downloads/README.md` (directory documentation)
- **Build Script Updates:**
  - Update `package.json` `build:chrome` script to output to `public/downloads/chrome-extension.zip`
  - Add compression step to create zip files

**Agent/PR:** Discovery task - no PR needed initially

**ü§ñ Long-Form Agent Instructions:** @agent-build-infrastructure

<details>
<summary>Click to view comprehensive implementation guide</summary>

#### Prerequisites
- Understanding of Node.js build processes
- Familiarity with Express.js static file serving
- Knowledge of zip file creation and compression
- Understanding of npm scripts and build automation

#### Step-by-Step Implementation

1. **Discover Current Build Paths**: Check existing `build/`, `dist/`, `chrome-extension/` directories
2. **Create Directory Structure**: Set up `/public/downloads/` with README
3. **Update Build Scripts**: Modify `package.json` to output zips to downloads folder
4. **Create Manifest Generator**: Build `scripts/generate-manifest.js` for version tracking
5. **Configure Express**: Add static serving middleware for `/downloads/*`
6. **Update .gitignore**: Exclude zip files but keep manifest.json
7. **Test Build Process**: Verify `npm run build:downloads` creates valid zips
8. **Validate File Integrity**: Use `unzip -t` to check zip files
9. **Document Process**: Update BUILD_PROCESS.md
10. **Verify Endpoints**: Test download URLs via curl

#### Success Criteria
- ‚úÖ Chrome extension zip builds successfully
- ‚úÖ Workflow builder zip builds successfully  
- ‚úÖ manifest.json generated with correct metadata
- ‚úÖ Files served correctly via `/downloads/*`
- ‚úÖ Build process is repeatable and automated

</details>

---

### **Task 2: Implement Backend Download Routes**

**Goal:**  
Add Express routes: `/downloads/chrome-extension.zip` and `/downloads/workflow-builder.zip`, which deliver the respective latest builds to browsers/clients.

**Status:** üî≤ Not Started

**Implementation Details:**
- **New Files:**
  - `src/routes/downloads.ts` (NEW)
- **Modified Files:**
  - `src/index.ts` (MODIFY: add downloads route registration)
- **Route Specifications:**
  ```typescript
  // GET /downloads/chrome-extension.zip
  // GET /downloads/workflow-builder.zip
  // GET /downloads/manifest.json (version info)
  ```

**PR Title:** "Add /downloads backend routes for extension and workflow builder artifacts #Task2"

**ü§ñ Long-Form Agent Instructions:** @agent-backend-api

<details>
<summary>Click to view comprehensive implementation guide</summary>

#### Prerequisites
- Express.js routing expertise
- Understanding of HTTP headers and content types
- Knowledge of file streaming in Node.js
- Security best practices for file downloads

#### Step-by-Step Implementation

1. **Create Downloads Router**: Build `src/routes/downloads.ts` with Express router
2. **Implement File Validation**: Whitelist allowed files (chrome-extension.zip, workflow-builder.zip, manifest.json)
3. **Add Download Endpoint**: Create GET /:filename route with proper headers
4. **Implement Rate Limiting**: Limit to 20 requests per 15 minutes
5. **Add Health Check**: Create `/downloads/health` endpoint
6. **Implement Analytics**: Log downloads with IP, user-agent, timestamp
7. **Add Error Handling**: Return 404 for missing files, 500 for server errors
8. **Register Routes**: Add to `src/index.ts` main app
9. **Write Tests**: Create comprehensive test suite in `tests/routes/downloads.test.ts`
10. **Update API Docs**: Document all endpoints in API.md

#### Success Criteria
- ‚úÖ All download endpoints functional
- ‚úÖ Proper headers and content types
- ‚úÖ Rate limiting prevents abuse
- ‚úÖ Error messages are helpful
- ‚úÖ Tests achieve 95%+ coverage

</details>

---

### **Task 3 & 4: Embed Download Buttons/UI & JS Logic+Styling**

**Goal:**  
Insert prominent, styled buttons and supporting status lines for "Download Chrome Extension" and "Download Workflow Builder UI" in both `/public/dashboard.html` and `/public/workflow-builder.html`. Attach robust JS handlers for download status, error handling, success/fail reporting; style buttons clearly and accessibly.

**Status:** üî≤ Not Started

**Implementation Details:**
- **Modified Files:**
  - `public/dashboard.html` (MODIFY: insert download buttons/container, JS logic)
  - `public/workflow-builder.html` (MODIFY: add download section)
  - `public/css/dashboard.css` (MODIFY: add download button styles)
  - `public/css/workflow-builder.css` (MODIFY if needed)
  - `public/js/download-handler.js` (NEW: reusable download logic)

**UI Components:**
```html
<section class="downloads-section">
  <h2>Quick Downloads</h2>
  <div class="download-cards">
    <div class="download-card">
      üì¶
      Download Chrome Extension
      v1.0.0
    </div>
    <div class="download-card">
      üé®
      Download Workflow Builder
      Latest
    </div>
  </div>
  <div class="installation-guide">...</div>
</section>
```

**PR Title:** "Add one-click extension/UI download buttons and logic to dashboard and builder #Task3-4"

**ü§ñ Long-Form Agent Instructions:** @agent-frontend-ui

<details>
<summary>Click to view comprehensive implementation guide</summary>

#### Prerequisites
- HTML5 and CSS3 expertise
- JavaScript ES6+ (async/await, Fetch API)
- Understanding of accessible web design (ARIA)
- Familiarity with loading states and progress indicators

#### Step-by-Step Implementation

1. **Create Download Handler**: Build `public/js/download-handler.js` with DownloadHandler class
2. **Add Download Section to Dashboard**: Insert download cards in `public/dashboard.html`
3. **Add Download Section to Workflow Builder**: Insert download cards in `public/workflow-builder.html`
4. **Style Download Cards**: Update `public/css/dashboard.css` with responsive styles
5. **Implement Progress Indicators**: Add progress bars that update during download
6. **Add Error Handling UI**: Display user-friendly error messages
7. **Implement Accessibility Features**: Add ARIA labels, keyboard navigation, screen reader support
8. **Add Installation Guide**: Create collapsible installation instructions
9. **Test Cross-Browser**: Verify functionality in Chrome, Firefox, Safari, Edge
10. **Test Mobile Responsive**: Ensure works on mobile devices

#### Success Criteria
- ‚úÖ Download buttons prominent and attractive
- ‚úÖ Progress shows during download
- ‚úÖ Errors display helpful messages
- ‚úÖ Accessible to screen readers
- ‚úÖ Works on all major browsers

</details>

---

### **Task 5: README and Roadmap Download Links**

**Goal:**  
Clearly document the download and install buttons in `/README.md` and reference their code/live buttons in `dashboard.html` and `workflow-builder.html`. Insert permanent download links (and badges if desired).

**Status:** üî≤ Not Started

**Implementation Details:**
- **Modified Files:**
  - `README.md` (MODIFY: add download instructions and links)
  - `ROADMAP_PROGRESS.md` (MODIFY: add download endpoints to feature list)
  - `docs/guides/INSTALLATION.md` (NEW or MODIFY: comprehensive install guide)

**README Section Template:**
```markdown
## üì¶ Quick Downloads

[![Download Chrome Extension](https://img.shields.io/badge/Download-Chrome%20Extension-blue?logo=googlechrome)](http://localhost:3000/downloads/chrome-extension.zip)
[![Download Workflow Builder](https://img.shields.io/badge/Download-Workflow%20Builder-green?logo=data)](http://localhost:3000/downloads/workflow-builder.zip)

**One-Click Installation:**
1. Download the Chrome extension above
2. Navigate to `chrome://extensions/`
3. Enable "Developer mode"
4. Click "Load unpacked" and select the downloaded folder

**Deployment URLs:**
- Dashboard with download buttons: `http://localhost:3000/dashboard.html`
- Workflow builder with downloads: `http://localhost:3000/workflow-builder.html`
```

**PR Title:** "Add prominent download/install instructions and links to docs #Task5"

**ü§ñ Long-Form Agent Instructions:** @agent-documentation

<details>
<summary>Click to view comprehensive implementation guide</summary>

#### Prerequisites
- Markdown formatting expertise
- Understanding of shield.io badges
- Technical writing skills
- Knowledge of GitHub Pages deployment

#### Step-by-Step Implementation

1. **Update README.md**: Add download section with badges and instructions
2. **Update ROADMAP_PROGRESS.md**: Add download system to features list
3. **Create INSTALLATION_GUIDE.md**: Build comprehensive installation guide with screenshots
4. **Update HOW_TO_USE.md**: Add download instructions section
5. **Update CHANGELOG.md**: Document new download system release
6. **Create downloads.html**: Build dedicated downloads landing page
7. **Add SEO Meta Tags**: Add Open Graph and Twitter Card tags
8. **Create Quick Links**: Add download badges throughout docs
9. **Test All Links**: Verify all download URLs work correctly
10. **Add Troubleshooting**: Include common issues and solutions

#### Success Criteria
- ‚úÖ All documentation includes download links
- ‚úÖ Installation instructions are clear
- ‚úÖ Links are functional and tested
- ‚úÖ SEO optimized for discoverability

</details>

---

### **Task 6: Build/Update Auto-Updater Script for Agent Status**

**Goal:**  
A script (Node.js) fetches agent/container health from `/api/agents/system/overview` and dynamically injects current stats into `/README.md` and `/ROADMAP_PROGRESS.md` within clear markdown markers.

**Status:** üî≤ Not Started

**Implementation Details:**
- **New Files:**
  - `scripts/update-agent-status.js` (NEW: main updater script)
  - `scripts/lib/markdown-injector.js` (NEW: utility for safe markdown injection)
- **Markdown Markers:**
  ```markdown
  <!-- AUTO-GENERATED-CONTENT:START (AGENT_STATUS) -->
  ... auto-generated content ...
  <!-- AUTO-GENERATED-CONTENT:END -->
  ```

**Script Features:**
- Fetch from `/api/agents/system/overview`
- Parse agent health data
- Generate markdown table with agent status
- Safely inject between markers
- Error handling and rollback on failure

**PR Title:** "Autoupdate agent/container status in README and Roadmap #Task6"

**ü§ñ Long-Form Agent Instructions:** @agent-automation-scripts

<details>
<summary>Click to view comprehensive implementation guide</summary>

#### Prerequisites
- Node.js scripting expertise
- Understanding of markdown parsing
- Knowledge of API integration
- Error handling and rollback strategies

#### Step-by-Step Implementation

1. **Create Auto-Updater Script**: Build `scripts/update-agent-status.js`
2. **Create Markdown Injector Utility**: Build `scripts/lib/markdown-injector.js`
3. **Implement API Fetching**: Connect to `/api/agents/system/overview`
4. **Parse Agent Data**: Extract health, status, version info
5. **Generate Markdown Table**: Create formatted status table
6. **Implement Safe Injection**: Find markers and replace content safely
7. **Add Error Handling**: Implement rollback on failure
8. **Add Logging**: Track update history
9. **Test Locally**: Verify updates work correctly
10. **Document Script**: Add README for script usage

#### Success Criteria
- ‚úÖ Script fetches agent data successfully
- ‚úÖ Markdown injection works safely
- ‚úÖ Rollback works on errors
- ‚úÖ Documentation stays in sync

</details>

---

### **Task 7: Wire Auto-Updater Script into Build/CI/CD**

**Goal:**  
Ensure the script runs after every agent build/deployment or on a regular basis. Add to `package.json` scripts and schedule as needed.

**Status:** üî≤ Not Started

**Implementation Details:**
- **Modified Files:**
  - `package.json` (MODIFY: add `"update:agents": "node scripts/update-agent-status.js"`)
  - `.github/workflows/ci.yml` (MODIFY: run update:agents postbuild)
  - `.github/workflows/agent-status-cron.yml` (NEW: scheduled daily run)

**package.json Addition:**
```json
"scripts": {
  "update:agents": "node scripts/update-agent-status.js",
  "postbuild": "npm run update:agents",
  "prebuild": "npm run update:agents"
}
```

**PR Title:** "Wire agent status updater to build/deploy pipeline #Task7"

**ü§ñ Long-Form Agent Instructions:** @agent-cicd-integration

<details>
<summary>Click to view comprehensive implementation guide</summary>

#### Prerequisites
- GitHub Actions expertise
- npm scripts knowledge
- CI/CD pipeline understanding
- Cron scheduling experience

#### Step-by-Step Implementation

1. **Add npm Scripts**: Update `package.json` with update:agents command
2. **Create GitHub Actions Workflow**: Build `.github/workflows/agent-status-cron.yml`
3. **Configure Scheduled Runs**: Set daily cron schedule (midnight UTC)
4. **Add to Build Pipeline**: Integrate into existing CI workflow
5. **Add Manual Trigger**: Enable workflow_dispatch for manual runs
6. **Implement Notifications**: Add failure alerts to Slack/email
7. **Test Pipeline**: Verify updates run correctly in CI
8. **Add Dry-Run Mode**: Allow testing without committing changes
9. **Document Integration**: Update CI/CD docs
10. **Monitor First Runs**: Watch for issues in production

#### Success Criteria
- ‚úÖ Runs on every build completion
- ‚úÖ Scheduled daily at midnight UTC
- ‚úÖ Manual trigger works
- ‚úÖ Failure notifications sent

</details>

---

### **Task 8: Test End-to-End User Experience**

**Goal:**  
Validate full pipeline: backend route ‚Üí front-end button ‚Üí browser download ‚Üí UI install ‚Üí README/roadmap stats. Log bugs and mark working states.

**Status:** üî≤ Not Started

**Implementation Details:**
- **New Files:**
  - `TEST_CASES.md` (NEW: E2E test scenarios)
  - `tests/e2e/download-flow.test.ts` (NEW: automated E2E tests)
- **Test Scenarios:**
  1. Download extension from dashboard
  2. Verify zip file integrity
  3. Install extension in Chrome
  4. Test extension functionality
  5. Verify README stats update
  6. Check error handling (404, network failures)

**PR Title:** "E2E pipeline test and QA log (diagnostic markdown, bug reports, screenshots) #Task8"

**ü§ñ Long-Form Agent Instructions:** @agent-qa-testing

<details>
<summary>Click to view comprehensive implementation guide</summary>

#### Prerequisites
- E2E testing framework knowledge (Playwright/Cypress)
- Manual testing skills
- Bug reporting expertise
- Screenshot/video capture tools

#### Step-by-Step Implementation

1. **Create Test Plan**: Document all test scenarios in TEST_CASES.md
2. **Set Up E2E Framework**: Configure Playwright or Cypress
3. **Write Download Flow Tests**: Automate download button clicks
4. **Write Installation Tests**: Verify zip extraction and Chrome extension loading
5. **Write Integration Tests**: Test full user journey
6. **Test Error Scenarios**: Verify error handling (404, network failures, rate limits)
7. **Cross-Browser Testing**: Test in Chrome, Firefox, Safari, Edge
8. **Mobile Testing**: Test responsive design on mobile devices
9. **Document Bugs**: Create detailed bug reports with screenshots
10. **Create QA Report**: Summarize findings and recommendations

#### Success Criteria
- ‚úÖ All critical paths tested
- ‚úÖ Bugs documented with reproductions
- ‚úÖ Cross-browser compatibility verified
- ‚úÖ Performance acceptable

</details>

---

### **Task 9: Documentation (Usage, Install, Troubleshooting)**

**Goal:**  
Add/expand install and update sections in narrative docs (`README.md`, relevant markdown). Provide clear instructions, screenshots, and possible error resolutions.

**Status:** üî≤ Not Started

**Implementation Details:**
- **Modified Files:**
  - `README.md` (MODIFY: expand install section)
  - `HOW_TO_USE.md` (MODIFY: add download instructions)
  - `docs/guides/TROUBLESHOOTING.md` (NEW or MODIFY)
  - `docs/guides/INSTALLATION_GUIDE.md` (NEW: comprehensive guide)
- **New Content:**
  - Installation walkthrough with screenshots
  - Common error messages and resolutions
  - FAQ section
  - Video tutorial links (if available)

**PR Title:** "Add/expand install, usage, and troubleshooting guides for deployment UX #Task9"

**ü§ñ Long-Form Agent Instructions:** @agent-technical-writing

<details>
<summary>Click to view comprehensive implementation guide</summary>

#### Prerequisites
- Technical writing expertise
- Screenshot/video creation skills
- Understanding of common user pain points
- Documentation best practices

#### Step-by-Step Implementation

1. **Expand Installation Section**: Update README.md with detailed steps
2. **Create Troubleshooting Guide**: Build docs/guides/TROUBLESHOOTING.md
3. **Create FAQ**: Document frequently asked questions
4. **Add Screenshots**: Capture installation process step-by-step
5. **Create Video Tutorial**: Record installation walkthrough (optional)
6. **Document Common Errors**: List error messages and solutions
7. **Add System Requirements**: Document prerequisites
8. **Create Quick Start Guide**: Build fast-track installation path
9. **Update HOW_TO_USE.md**: Add download instructions
10. **Cross-Reference Docs**: Link related documentation

#### Success Criteria
- ‚úÖ Installation guides are comprehensive
- ‚úÖ Screenshots are clear and helpful
- ‚úÖ Troubleshooting covers common issues
- ‚úÖ Users can self-serve most problems

</details>

---

## üìä Progress Tracking

| Task | Status | Priority | Estimated Time | Assigned Agent |
|------|--------|----------|----------------|----------------|
| 1. Build Output Paths | üî≤ | High | 1-2h | @agent-build-infrastructure |
| 2. Backend Routes | üî≤ | High | 2-3h | @agent-backend-api |
| 3-4. UI & Buttons | üî≤ | Medium | 3-4h | @agent-frontend-ui |
| 5. Documentation Links | üî≤ | Medium | 1-2h | @agent-documentation |
| 6. Auto-Updater Script | üî≤ | High | 3-4h | @agent-automation-scripts |
| 7. CI/CD Integration | üî≤ | High | 2-3h | @agent-cicd-integration |
| 8. E2E Testing | üî≤ | Medium | 4-6h | @agent-qa-testing |
| 9. User Documentation | üî≤ | Low | 2-3h | @agent-technical-writing |

**Total Estimated Time:** 18-27 hours

---

## üéØ Success Criteria

‚úÖ Users can download Chrome extension with one click from dashboard  
‚úÖ Backend serves zip files reliably from `/downloads/*` endpoints  
‚úÖ README contains clear download/install instructions with badges  
‚úÖ Agent status auto-updates daily in README and roadmap  
‚úÖ All download flows tested and documented  
‚úÖ Error handling covers all edge cases  
‚úÖ CI/CD pipeline includes auto-updater execution  

---

## üîó Related Issues

- Chrome Extension Implementation
- Workflow Builder Enhancement
- Documentation Improvements

---

## ü§ù Contributing

Each task is designed to be atomic and can be worked on independently. To contribute:

1. Comment on this issue to claim a task
2. Reference this issue in your PR title with `#181`
3. Update task status when starting/completing work
4. Link PRs back to specific tasks

**Live Task Section Reference:** Each agent/PR should link back to this issue for traceability.
