# ============================================================
# CRITICAL PRODUCTION SECURITY - READ BEFORE DEPLOYMENT
# ============================================================
# 
# ⚠️ NEVER commit this file with actual secrets to version control
# ⚠️ Generate secure random secrets using:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# ⚠️ Use different secrets for JWT_SECRET and SESSION_SECRET
# ⚠️ Set ALLOWED_ORIGINS to specific domains (never use '*' in production)
#
# For Chrome Web Store deployment, ensure:
# 1. All secrets are randomly generated (256-bit minimum)
# 2. NODE_ENV is set to "production"
# 3. ALLOWED_ORIGINS includes only your actual domains
# 4. Backend is served over HTTPS (not HTTP)
# 5. Rate limiting is enabled
# ============================================================

# JWT Configuration
# ⚠️ PRODUCTION: Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Minimum 32 characters (256-bit). DO NOT use the example value below.
JWT_SECRET=your-secret-key-change-this-in-production-min-32-chars
JWT_EXPIRATION=24h

# Session Configuration
# ⚠️ MUST be different from JWT_SECRET for security
# ⚠️ PRODUCTION: Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your-session-secret-different-from-jwt-min-32-chars

# Server Configuration
PORT=7042
# ⚠️ PRODUCTION: Set to "production" for production deployments
NODE_ENV=development

# CORS Configuration
# ⚠️ CRITICAL FOR PRODUCTION: Specify exact origins, NEVER use '*'
# Comma-separated list of allowed origins for Chrome extension integration
# Development example below - replace with your actual production domains
# Production example: ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
ALLOWED_ORIGINS=http://localhost:7042,http://localhost:3000,http://localhost:3001

# Logging Configuration
LOG_LEVEL=info

# Database Configuration (PostgreSQL)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=workstation_saas
DB_USER=postgres
DB_PASSWORD=your-database-password-here

# GitHub Configuration
# Personal Access Token for GitHub API operations (required for PR management)
# Generate at: https://github.com/settings/tokens
# Required scopes: repo (full control of private repositories)
GITHUB_TOKEN=your-github-personal-access-token-here

# SQLite Configuration (for Database Agent)
SQLITE_DB_PATH=./data/workstation.db

# AWS S3 Configuration (for S3 Agent)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket-name
# Optional: For S3-compatible services (MinIO, DigitalOcean Spaces, etc.)
# AWS_S3_ENDPOINT=https://your-s3-compatible-endpoint.com
# AWS_S3_FORCE_PATH_STYLE=true

# Workflow Builder v2.0 Configuration
WORKFLOW_WEBSOCKET_ENABLED=true
WORKFLOW_WEBSOCKET_PORT=7042
WORKFLOW_EXECUTION_TIMEOUT=300000

# MCP Sync Service Configuration
MCP_SYNC_ENABLED=true
MCP_SYNC_INTERVAL=5000
MCP_SYNC_MAX_RETRIES=3

# Performance Monitoring Configuration
PERFORMANCE_MONITOR_ENABLED=true
PERFORMANCE_MONITOR_INTERVAL=10000
PERFORMANCE_HEALTH_THRESHOLD=50

# OpenTelemetry Configuration
TELEMETRY_ENABLED=true
PROMETHEUS_PORT=9464
SERVICE_NAME=workstation-browser-agent
SERVICE_NAMESPACE=production

# Redis Configuration (for rate limiting and caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
# Alternatively, use Redis URL
# REDIS_URL=redis://localhost:6379

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=10

# Circuit Breaker Configuration
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2
CIRCUIT_BREAKER_TIMEOUT=10000
CIRCUIT_BREAKER_RESET_TIMEOUT=60000

# Phase 6: Security - Token Encryption
# Encryption key for sensitive tokens (OAuth, Slack, etc.)
# ⚠️ PRODUCTION: Generate with: openssl rand -base64 48
# Minimum 32 characters recommended for AES-256
# DO NOT use the example value below in production
ENCRYPTION_KEY=your-secure-encryption-key-min-32-chars-change-in-production

# Phase 6: OAuth Configuration (Google)
GOOGLE_CLIENT_ID=your-google-client-id-here.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret-here
GOOGLE_CALLBACK_URL=http://localhost:7042/api/auth/google/callback

# Phase 6: OAuth Configuration (GitHub)
# Note: This is separate from GITHUB_TOKEN which is for API operations
GITHUB_CLIENT_ID=your-github-oauth-app-client-id-here
GITHUB_CLIENT_SECRET=your-github-oauth-app-client-secret-here
GITHUB_CALLBACK_URL=http://localhost:7042/api/auth/github/callback

# Phase 6: SMTP Configuration (for password reset and email verification)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password
FROM_EMAIL=noreply@workstation.dev
APP_URL=http://localhost:7042

# Phase 6: Email Verification Configuration
# Verification tokens expire after 24 hours
# Rate limit: 5 verification emails per hour per user
EMAIL_VERIFICATION_ENABLED=true
EMAIL_VERIFICATION_REQUIRED=false

# Phase 6: Slack Integration Configuration
SLACK_CLIENT_ID=your-slack-app-client-id-here
SLACK_CLIENT_SECRET=your-slack-app-client-secret-here
SLACK_SIGNING_SECRET=your-slack-app-signing-secret-here
SLACK_REDIRECT_URI=http://localhost:7042/api/slack/oauth/callback
